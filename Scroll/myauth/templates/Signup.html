{% load static %}

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scroll | Signup</title>
    <link rel="stylesheet" href="{% static "css/output.css" %}">
    <link href="{% static 'fontawesomefree/css/all.min.css' %}" rel="stylesheet" type="text/css">
    {% include "components/Favicons.html" %}

</head>

<body class="w-full min-h-screen max-h-fit bg-[#333] flex justify-center items-center max-md:bg-black max-md:h-full max-md:items-start">

    <form action="{% url 'signup' %}" method="post" enctype="multipart/form-data"
        class="w-[40%] min-h-[85vh] max-h-fit bg-black  text-white rounded-2xl p-12 mb-5 flex flex-col gap-12 shadow-xl mt-2 max-xl:w-full max-xl:h-full max-md:rounded-none max-sm:p-3 max-md:gap-8 max-md:justify-center"
        autocomplete="off">
        {% csrf_token %}
        <h1 class="text-left text-4xl font-bold max-md:text-3xl max-md:mt-10">Create your account</h1>

        <div class="w-full flex flex-col gap-4">
            <input type="text" name="username" placeholder="Username"
                class="p-4 bg-transparent border rounded-lg focus:outline-0" autofocus required>

            <input type="email" name="email" placeholder="Email"
                class="p-4 bg-transparent border rounded-lg focus:outline-0" required>

            <div class="w-full flex gap-2 max-md:flex-col max-md:gap-4">
                <input type="password" name="password" placeholder="Create password"
                    class="flex-auto p-4 bg-transparent border rounded-lg focus:outline-0" required>

                <input type="password" name="re_password" placeholder="Confirm password"
                    class="flex-auto p-4 bg-transparent border rounded-lg focus:outline-0" required>
            </div>

            <div class="p-4 space-x-2 bg-transparent border rounded-lg focus:outline-0 max-md:flex max-md:items-center">
                <label for="file" class="text-[#9ca3af] hover:cursor-pointer">Profile Pic:</label>
                <input type="file" name="profile_pic" id="file" required class="max-md:w-[50%]">
            </div>

            {% if error %}
            <b class="mx-1 text-red-500 text-sm" id="error_box">{{error}}</b>
            {% endif %}
            <a href="{% url 'login' %}" class="mx-2 underline self-end max-md:text-xs max-md:m-0">Already have an account?</a>
        </div>

        <div class="flex flex-col space-y-5">
            <input type="submit" value="Signup" class="bg-white text-black text-2xl font-semibold py-3 rounded-xl cursor-pointer hover:opacity-90">
            
            <p class="text-gray-400 text-center">Or</p>

            <a href="{% url "social:begin" "google-oauth2" %}" class="space-x-2 flex justify-center items-center bg-white text-black text-2xl font-semibold py-3 rounded-xl cursor-pointer hover:opacity-90">
                <i class="fa-brands fa-google-plus-g text-4xl"></i>
                <p>Signup with Google</p>
            </a> 
        </div>
    </form>

    <script>

        const error_box = document.getElementById('error_box');

        if (error_box) {
            setTimeout(function() {
                error_box.style.display = 'none';
            }, 2500);
        }

    </script>

    <script src="{% static 'fontawesomefree/js/all.min.js' %}"></script>
    {% comment %} <script src="{% static 'js/tailwindcdn.js' %}"></script> {% endcomment %}

</body>

</html>